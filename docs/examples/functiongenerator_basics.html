
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>letalker.function_generators &#8212; pyLeTalker 0.1.0 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=4ae1632d" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=0d290300" />
    <link rel="stylesheet" type="text/css" href="../_static/nbsphinx-code-cells.css?v=2aa19091" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../_static/documentation_options.js?v=a1637f0b"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=c89b5d42"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'examples/functiongenerator_basics';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="TaperMixin - Controlling onset and offset of functions" href="functiongenerator_step_mixin.html" />
    <link rel="prev" title="Python classes to model various Elements of Voice Production Mechanism" href="elements.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/wave-reflection-model-light.png" class="logo__image only-light" alt="pyLeTalker 0.1.0 documentation - Home"/>
    <script>document.write(`<img src="../_static/wave-reflection-model-dark.png" class="logo__image only-dark" alt="pyLeTalker 0.1.0 documentation - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 current active has-children"><a class="reference internal" href="../examples.html">Examples</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="vf2025.html">Generating dysphonic voice samples with kinematic VF model</a></li>
<li class="toctree-l2"><a class="reference internal" href="plotting.html">Plotting synthesized signals</a></li>
<li class="toctree-l2"><a class="reference internal" href="audio.html">Playing and saving synthesized acoustic signals</a></li>
<li class="toctree-l2"><a class="reference internal" href="elements.html">Python classes to model various <code class="docutils literal notranslate"><span class="pre">Element</span></code>s of Voice Production Mechanism</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#"><code class="docutils literal notranslate"><span class="pre">letalker.function_generators</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="functiongenerator_step_mixin.html"><code class="docutils literal notranslate"><span class="pre">TaperMixin</span></code> - Controlling onset and offset of functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="animate_kvf.html">Animating kinematic vocal folds</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../citations.html">Citation Guidelines</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../api_reference.html">API Reference</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../api_basic.html">Synthesis Basics</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../api_advanced.html">Submodules (advanced topics)</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../letalker.typing.html">letalker.typing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../letalker.constants.html">letalker.constants</a></li>
<li class="toctree-l3"><a class="reference internal" href="../letalker.elements.html">letalker.elements</a></li>
<li class="toctree-l3"><a class="reference internal" href="../letalker.function_generators.html">letalker.function_generators</a></li>
<li class="toctree-l3"><a class="reference internal" href="../letalker.core.html">letalker.core</a></li>
<li class="toctree-l3"><a class="reference internal" href="../letalker.utils.html">letalker.utils</a></li>
</ul>
</details></li>
</ul>
</details></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/tikuma-lsuhsc/pyLeTalker" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/tikuma-lsuhsc/pyLeTalker/blob/master/docs/examples/functiongenerator_basics.ipynb?plain=1" target="_blank"
   class="btn btn-sm btn-source-file-button dropdown-item"
   title="Show source"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-code"></i>
  </span>
<span class="btn__text-container">Show source</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/examples/functiongenerator_basics.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>letalker.function_generators</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#Common-attributes-of-abc.SampleGenerator-subclasses">Common attributes of <code class="docutils literal notranslate"><span class="pre">abc.SampleGenerator</span></code> subclasses</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#Constant"><code class="docutils literal notranslate"><span class="pre">Constant</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#StepGenerator---hold-specific-values-in-a-sequential-order"><code class="docutils literal notranslate"><span class="pre">StepGenerator</span></code> - hold specific values in a sequential order</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#LineGenerator"><code class="docutils literal notranslate"><span class="pre">LineGenerator</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#Interpolators:-Interpolator,-ClampedInterpolator,-&amp;-PeriodicInterpolator">Interpolators: <code class="docutils literal notranslate"><span class="pre">Interpolator</span></code>, <code class="docutils literal notranslate"><span class="pre">ClampedInterpolator</span></code>, &amp; <code class="docutils literal notranslate"><span class="pre">PeriodicInterpolator</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#FlutterGenerator---slow-quasi-random-drift"><code class="docutils literal notranslate"><span class="pre">FlutterGenerator</span></code> - slow quasi-random drift</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#SineGenerator"><code class="docutils literal notranslate"><span class="pre">SineGenerator</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ModulatedSineGenerator"><code class="docutils literal notranslate"><span class="pre">ModulatedSineGenerator</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#WhiteNoiseGenerator-&amp;-ColoredNoiseGenerator"><code class="docutils literal notranslate"><span class="pre">WhiteNoiseGenerator</span></code> &amp; <code class="docutils literal notranslate"><span class="pre">ColoredNoiseGenerator</span></code></a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">letalker</span> <span class="k">as</span> <span class="nn">lt</span>
</pre></div>
</div>
</div>
<section id="letalker.function_generators">
<h1><code class="docutils literal notranslate"><span class="pre">letalker.function_generators</span></code><a class="headerlink" href="#letalker.function_generators" title="Link to this heading">#</a></h1>
<p>Function and noise generators are the foundation to numerical voice simulation to generate time samples of various input signals and parameters. Function generators allow you to construct time-varying model parameters while noise generators are essential to add turbulent or ambient noise to the voice signals.</p>
<p>All classes in this module are a subclass of the <code class="docutils literal notranslate"><span class="pre">abc.SampleGenerator</span></code> abstract class. There are 3 abstract subclasses to further categorize:</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>class</p></th>
<th class="head"><p>description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">abc.FunctionGenerator</span></code></p></td>
<td><p>abstract class to define <code class="docutils literal notranslate"><span class="pre">__call__()</span></code>, <code class="docutils literal notranslate"><span class="pre">derivative()</span></code>, and <code class="docutils literal notranslate"><span class="pre">antiderivative()</span></code> generation methods</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">abc.AnalyticFunctionGenerator</span></code></p></td>
<td><p>subclass of <code class="docutils literal notranslate"><span class="pre">FunctionGenerator</span></code>, requiring <code class="docutils literal notranslate"><span class="pre">fo</span></code> argument to construct. and accepts <code class="docutils literal notranslate"><span class="pre">analytic</span></code> <code class="docutils literal notranslate"><span class="pre">bool</span></code> keyword argument to the generation methods to generate the analytic signals.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">abc.NoiseGenerator</span></code></p></td>
<td><p>abstract class for random noise generation via <code class="docutils literal notranslate"><span class="pre">__call__()</span></code></p></td>
</tr>
</tbody>
</table>
</div>
<ul class="simple">
<li><p>Concrete classes of <code class="docutils literal notranslate"><span class="pre">abc.FunctionGenerator</span></code>:</p></li>
</ul>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>class</p></th>
<th class="head"><p>description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">Constant</span></code></p></td>
<td><p>constant (for adding tapering effects; otherwise use <code class="docutils literal notranslate"><span class="pre">float</span></code>)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">StepGenerator</span></code></p></td>
<td><p>piece-wise constants, stepping from one constant value to another</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">LineGenerator</span></code></p></td>
<td><p>linear function generator</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">Interpolator</span></code></p></td>
<td><p>B-Spline interpolator</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ClampedInterpolator</span></code></p></td>
<td><p>B-Spline interpolator, extrapolating by holding its endpoints</p></td>
</tr>
</tbody>
</table>
</div>
<ul class="simple">
<li><p>Concrete classes of <code class="docutils literal notranslate"><span class="pre">abc.AnalyticFunctionGenerator</span></code>:</p></li>
</ul>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>class</p></th>
<th class="head"><p>description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">PeriodicInterpolator</span></code></p></td>
<td><p>B-Spline interpolator, extrapolating by endlessly repeating the control points</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SineGenerator</span></code></p></td>
<td><p>Pure sinusoid generator</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">FlutterGenerator</span></code></p></td>
<td><p>Sum of sinusoids to generate quasi-random drift</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ModulatedSineGenerator</span></code></p></td>
<td><p>Sinusoid generator with amplitude and frequency modulation</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">RosenbergGenerator</span></code></p></td>
<td><p>Glottal flow pulse train generator per (Rosenberg, 1971)</p></td>
</tr>
</tbody>
</table>
</div>
<ul class="simple">
<li><p>Concrete classes of <code class="docutils literal notranslate"><span class="pre">abc.NoiseGenerator</span></code>:</p></li>
</ul>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>class</p></th>
<th class="head"><p>description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">WhiteNoiseGenerator</span></code></p></td>
<td><p>White noise generator</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ColoredNoiseGenerator</span></code></p></td>
<td><p>Colored noise generator</p></td>
</tr>
</tbody>
</table>
</div>
<section id="Common-attributes-of-abc.SampleGenerator-subclasses">
<h2>Common attributes of <code class="docutils literal notranslate"><span class="pre">abc.SampleGenerator</span></code> subclasses<a class="headerlink" href="#Common-attributes-of-abc.SampleGenerator-subclasses" title="Link to this heading">#</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># common properties</span>
<span class="n">function_generator</span><span class="o">.</span><span class="n">shape</span> <span class="c1"># shape of an individual time sample</span>
<span class="n">function_generator</span><span class="o">.</span><span class="n">ndim</span> <span class="c1"># number of dimensions of an individual time sample</span>
<span class="n">function_generator</span><span class="o">.</span><span class="n">fs</span> <span class="c1"># sampling rate in samples/second</span>

<span class="c1"># common method</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">function_generator</span><span class="o">.</span><span class="n">ts</span><span class="p">(</span><span class="n">nb_samples</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">n0</span><span class="o">=-</span><span class="mi">500</span><span class="p">)</span>
<span class="c1"># generates time vector `t` which is 1000 samples long, starting from the index -500.</span>
<span class="c1"># With the default fs = 44100: t[0] = -500/44100, t[1] = -499/44100, ...</span>
<span class="c1"># If `function_generator.ndim&gt;1`, `t` is an `(ndim+1)`-dimensional array with the 0-th</span>
<span class="c1"># dimension as the time dimension.</span>
</pre></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">n</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">lt</span><span class="o">.</span><span class="n">fs</span><span class="p">)</span>  <span class="c1"># 1 second demos</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">lt</span><span class="o">.</span><span class="n">ts</span><span class="p">(</span><span class="n">lt</span><span class="o">.</span><span class="n">fs</span><span class="p">)</span> <span class="c1"># time vector</span>
</pre></div>
</div>
</div>
</section>
<section id="Constant">
<h2><code class="docutils literal notranslate"><span class="pre">Constant</span></code><a class="headerlink" href="#Constant" title="Link to this heading">#</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">Constant</span></code> class simply holds the specified value all the time, unless the <code class="docutils literal notranslate"><span class="pre">transition_time</span></code> is set.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">gen0</span> <span class="o">=</span> <span class="n">lt</span><span class="o">.</span><span class="n">Constant</span><span class="p">(</span><span class="mf">0.98</span><span class="p">)</span>
<span class="n">gen1</span> <span class="o">=</span> <span class="n">lt</span><span class="o">.</span><span class="n">Constant</span><span class="p">(</span><span class="mf">0.45</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">sharex</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">sharey</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">gen0</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">force_time_axis</span><span class="o">=</span><span class="s1">&#39;tile_data&#39;</span><span class="p">))</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Constant(0.98)&quot;</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">gen1</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">force_time_axis</span><span class="o">=</span><span class="s1">&#39;tile_data&#39;</span><span class="p">))</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Constant(0.45)&quot;</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;time (s)&quot;</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(0.0, 1.0)
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/examples_functiongenerator_basics_6_1.png" src="../_images/examples_functiongenerator_basics_6_1.png" />
</div>
</div>
<p>NOTE: For faster simulation, a <code class="docutils literal notranslate"><span class="pre">Constant</span></code> object without any transition effects (i.e., truly holding a value at all time like shown above), by default evaluates only one value (e.g., <code class="docutils literal notranslate"><span class="pre">gen0(n)</span></code> would return <code class="docutils literal notranslate"><span class="pre">0.98</span></code>). Setting the <code class="docutils literal notranslate"><span class="pre">force_time_axis</span></code> keyword argument to <code class="docutils literal notranslate"><span class="pre">True</span></code> forces the object to return a NumPy array of repeated values (useful for plotting).</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">letalker.constants</span> <span class="kn">import</span> <span class="n">PL</span>

<span class="n">gen</span> <span class="o">=</span> <span class="n">lt</span><span class="o">.</span><span class="n">Constant</span><span class="p">(</span><span class="n">PL</span><span class="p">,</span> <span class="n">transition_time</span><span class="o">=</span><span class="mf">0.001</span><span class="p">)</span>
<span class="c1"># the default transition is a 2-ms raised-cosine transition</span>

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">gen</span><span class="p">(</span><span class="n">n</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;time (s)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;$P_L$&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Text(0, 0.5, &#39;$P_L$&#39;)
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/examples_functiongenerator_basics_8_1.png" src="../_images/examples_functiongenerator_basics_8_1.png" />
</div>
</div>
</section>
<section id="StepGenerator---hold-specific-values-in-a-sequential-order">
<h2><code class="docutils literal notranslate"><span class="pre">StepGenerator</span></code> - hold specific values in a sequential order<a class="headerlink" href="#StepGenerator---hold-specific-values-in-a-sequential-order" title="Link to this heading">#</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">transition_time</span></code> of <code class="docutils literal notranslate"><span class="pre">Constant</span></code> class only lets you switch the value between the specified value and 0. The <code class="docutils literal notranslate"><span class="pre">StepGenerator</span></code> class generalizes this behavior and let you specify multiple values to hold. The transitions are by default raised-cosines over 2-ms long.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">gen</span> <span class="o">=</span> <span class="n">lt</span><span class="o">.</span><span class="n">StepGenerator</span><span class="p">(</span><span class="n">transition_times</span><span class="o">=</span><span class="p">[</span><span class="mf">0.25</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.75</span><span class="p">],</span> <span class="n">levels</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="c1"># note levels has one more item than transition_times</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">gen</span><span class="p">(</span><span class="n">lt</span><span class="o">.</span><span class="n">fs</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;time (s)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/examples_functiongenerator_basics_10_0.png" src="../_images/examples_functiongenerator_basics_10_0.png" />
</div>
</div>
<p>Using this class, we can create a vocal tract area profile which traverses through multiple vowels…</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">letalker.constants</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">vocaltract_areas</span> <span class="k">as</span> <span class="n">areas</span><span class="p">,</span>
    <span class="n">vocaltract_names</span> <span class="k">as</span> <span class="n">names</span><span class="p">,</span>
    <span class="n">vocaltract_resolution</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">names</span> <span class="o">=</span> <span class="p">[</span><span class="n">vowel</span> <span class="k">for</span> <span class="n">vowel</span> <span class="ow">in</span> <span class="n">names</span><span class="p">[:</span><span class="mi">10</span><span class="p">]]</span>
<span class="n">areas</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">stack</span><span class="p">([</span><span class="n">areas</span><span class="p">[</span><span class="n">vowel</span><span class="p">]</span> <span class="k">for</span> <span class="n">vowel</span> <span class="ow">in</span> <span class="n">names</span><span class="p">],</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">transition_times</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">names</span><span class="p">))</span> <span class="o">*</span> <span class="mf">0.1</span>

<span class="n">vtarea_fun</span> <span class="o">=</span> <span class="n">lt</span><span class="o">.</span><span class="n">StepGenerator</span><span class="p">(</span><span class="n">transition_times</span><span class="p">,</span> <span class="n">areas</span><span class="p">,</span> <span class="n">transition_time_constant</span><span class="o">=</span><span class="mf">0.02</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">vtarea_fun</span><span class="o">.</span><span class="n">fs</span><span class="p">)</span>

<span class="n">area</span> <span class="o">=</span> <span class="n">vtarea_fun</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">area</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span>
    <span class="n">area</span><span class="o">.</span><span class="n">T</span><span class="p">,</span>
    <span class="n">extent</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5</span> <span class="o">*</span> <span class="n">vocaltract_resolution</span><span class="p">,</span> <span class="mf">44.5</span> <span class="o">*</span> <span class="n">vocaltract_resolution</span><span class="p">],</span>
    <span class="n">origin</span><span class="o">=</span><span class="s2">&quot;lower&quot;</span><span class="p">,</span>
    <span class="n">aspect</span><span class="o">=</span><span class="s2">&quot;auto&quot;</span><span class="p">,</span>
<span class="p">)</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">name</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">names</span><span class="p">):</span>
    <span class="n">ti</span> <span class="o">=</span> <span class="n">i</span> <span class="o">*</span> <span class="mf">0.1</span> <span class="o">+</span> <span class="mf">0.05</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span>
        <span class="n">name</span><span class="p">,</span> <span class="p">(</span><span class="n">ti</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">),</span> <span class="n">xycoords</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;data&quot;</span><span class="p">,</span> <span class="s2">&quot;axes fraction&quot;</span><span class="p">),</span> <span class="n">c</span><span class="o">=</span><span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s2">&quot;center&quot;</span>
    <span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;time (s)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;distance from glottis (cm)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
44100
(44100, 44)
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;matplotlib.colorbar.Colorbar at 0x7f90204ae390&gt;
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/examples_functiongenerator_basics_12_2.png" src="../_images/examples_functiongenerator_basics_12_2.png" />
</div>
</div>
</section>
<section id="LineGenerator">
<h2><code class="docutils literal notranslate"><span class="pre">LineGenerator</span></code><a class="headerlink" href="#LineGenerator" title="Link to this heading">#</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">LineGenerator</span></code> creates a steady transition from one level to another. Outside of the two end points may be held to their levels or continue the linear trend indefinitely.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tp</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">)</span>
<span class="n">xp</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.98</span><span class="p">,</span> <span class="mf">0.24</span><span class="p">)</span>
<span class="n">gen0</span> <span class="o">=</span> <span class="n">lt</span><span class="o">.</span><span class="n">LineGenerator</span><span class="p">(</span><span class="n">tp</span><span class="p">,</span> <span class="n">xp</span><span class="p">)</span>
<span class="n">gen1</span> <span class="o">=</span> <span class="n">lt</span><span class="o">.</span><span class="n">LineGenerator</span><span class="p">(</span><span class="n">tp</span><span class="p">,</span> <span class="n">xp</span><span class="p">,</span> <span class="n">outside_values</span><span class="o">=</span><span class="s2">&quot;extend&quot;</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">sharex</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">sharey</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">gen0</span><span class="p">(</span><span class="n">n</span><span class="p">))</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">tp</span><span class="p">,</span> <span class="n">xp</span><span class="p">,</span> <span class="s2">&quot;o&quot;</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;LineGenerator: outside_values=&quot;hold&quot; (default)&#39;</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">gen1</span><span class="p">(</span><span class="n">n</span><span class="p">))</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">tp</span><span class="p">,</span> <span class="n">xp</span><span class="p">,</span> <span class="s2">&quot;o&quot;</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;LineGenerator: outside_values=&quot;extend&quot; (default)&#39;</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;time (s)&quot;</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/examples_functiongenerator_basics_14_0.png" src="../_images/examples_functiongenerator_basics_14_0.png" />
</div>
</div>
</section>
<section id="Interpolators:-Interpolator,-ClampedInterpolator,-&amp;-PeriodicInterpolator">
<h2>Interpolators: <code class="docutils literal notranslate"><span class="pre">Interpolator</span></code>, <code class="docutils literal notranslate"><span class="pre">ClampedInterpolator</span></code>, &amp; <code class="docutils literal notranslate"><span class="pre">PeriodicInterpolator</span></code><a class="headerlink" href="#Interpolators:-Interpolator,-ClampedInterpolator,-&-PeriodicInterpolator" title="Link to this heading">#</a></h2>
<p>These three <code class="docutils literal notranslate"><span class="pre">Interpolator</span></code> function generator classes perhaps are the most critical to construct time-varying parameters for speech-like voice samples. These generators support multidimensional functions (e.g., vocal tract cross-sectional areas). By default, this class uses B-splines for interpolation, but other polynomial based interpolators are also supported.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tp</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.35</span><span class="p">,</span> <span class="mf">0.64</span><span class="p">,</span> <span class="mf">0.87</span><span class="p">]</span>
<span class="n">xp</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="n">gen1</span> <span class="o">=</span> <span class="n">lt</span><span class="o">.</span><span class="n">Interpolator</span><span class="p">(</span><span class="n">tp</span><span class="p">,</span> <span class="n">xp</span><span class="p">,</span> <span class="n">degree</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">gen2</span> <span class="o">=</span> <span class="n">lt</span><span class="o">.</span><span class="n">Interpolator</span><span class="p">(</span><span class="n">tp</span><span class="p">,</span> <span class="n">xp</span><span class="p">,</span> <span class="n">degree</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">gen3</span> <span class="o">=</span> <span class="n">lt</span><span class="o">.</span><span class="n">Interpolator</span><span class="p">(</span><span class="n">tp</span><span class="p">,</span> <span class="n">xp</span><span class="p">,</span> <span class="n">degree</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">gen1</span><span class="p">(</span><span class="n">n</span><span class="p">),</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;degree=1&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">gen2</span><span class="p">(</span><span class="n">n</span><span class="p">),</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;degree=2&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">gen3</span><span class="p">(</span><span class="n">n</span><span class="p">),</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;degree=3 (default)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">tp</span><span class="p">,</span> <span class="n">xp</span><span class="p">,</span> <span class="s2">&quot;o&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;control points&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;time (s)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;matplotlib.legend.Legend at 0x7f901e2e46b0&gt;
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/examples_functiongenerator_basics_16_1.png" src="../_images/examples_functiongenerator_basics_16_1.png" />
</div>
</div>
<p>Example of multi-dimensional interpolator</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tp</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.35</span><span class="p">,</span> <span class="mf">0.64</span><span class="p">,</span> <span class="mf">0.87</span><span class="p">]</span>
<span class="n">xp</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">]]</span>
<span class="n">gen</span> <span class="o">=</span> <span class="n">lt</span><span class="o">.</span><span class="n">Interpolator</span><span class="p">(</span><span class="n">tp</span><span class="p">,</span> <span class="n">xp</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">gen</span><span class="p">(</span><span class="n">n</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">tp</span><span class="p">,</span> <span class="n">xp</span><span class="p">,</span> <span class="s2">&quot;o&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;time (s)&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Text(0.5, 0, &#39;time (s)&#39;)
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/examples_functiongenerator_basics_18_1.png" src="../_images/examples_functiongenerator_basics_18_1.png" />
</div>
</div>
<p>The two sub-flavors of <code class="docutils literal notranslate"><span class="pre">Interpolator</span></code> classes <code class="docutils literal notranslate"><span class="pre">ClampedInterpolator</span></code> and <code class="docutils literal notranslate"><span class="pre">PeriodicInterpolator</span></code>. Here is an example of how these three interpolator classes behave with the same set of control points.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tp</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.15</span><span class="p">,</span> <span class="mf">0.24</span><span class="p">,</span> <span class="mf">0.37</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">]</span>
<span class="n">xp</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>

<span class="n">gen1</span> <span class="o">=</span> <span class="n">lt</span><span class="o">.</span><span class="n">Interpolator</span><span class="p">(</span><span class="n">tp</span><span class="p">,</span> <span class="n">xp</span><span class="p">)</span>
<span class="n">gen2</span> <span class="o">=</span> <span class="n">lt</span><span class="o">.</span><span class="n">ClampedInterpolator</span><span class="p">(</span><span class="n">tp</span><span class="p">,</span> <span class="n">xp</span><span class="p">)</span>
<span class="n">gen3</span> <span class="o">=</span> <span class="n">lt</span><span class="o">.</span><span class="n">PeriodicInterpolator</span><span class="p">(</span><span class="n">tp</span><span class="p">,</span> <span class="n">xp</span><span class="p">)</span>

<span class="n">n0</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="o">-</span><span class="mf">0.1</span> <span class="o">*</span> <span class="n">lt</span><span class="o">.</span><span class="n">fs</span><span class="p">)</span>
<span class="n">t1</span> <span class="o">=</span> <span class="n">lt</span><span class="o">.</span><span class="n">ts</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">n0</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t1</span><span class="p">,</span> <span class="n">gen1</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">n0</span><span class="p">),</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Interpolator&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t1</span><span class="p">,</span> <span class="n">gen2</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">n0</span><span class="p">),</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;ClampedInterpolator&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t1</span><span class="p">,</span> <span class="n">gen3</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">n0</span><span class="p">),</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;PeriodicInterpolator&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">tp</span><span class="p">,</span> <span class="n">xp</span><span class="p">,</span> <span class="s2">&quot;o&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;control points&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;time (s)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;matplotlib.legend.Legend at 0x7f90206113a0&gt;
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/examples_functiongenerator_basics_20_1.png" src="../_images/examples_functiongenerator_basics_20_1.png" />
</div>
</div>
<p>Note <code class="docutils literal notranslate"><span class="pre">PeriodicInterpolator</span></code> is also a subclass of <code class="docutils literal notranslate"><span class="pre">AnalyticFunctionGenerator</span></code> but its analytic signal generation is approximate, relying on <code class="docutils literal notranslate"><span class="pre">scipy.signal.hilbert()</span></code>.</p>
</section>
<section id="FlutterGenerator---slow-quasi-random-drift">
<h2><code class="docutils literal notranslate"><span class="pre">FlutterGenerator</span></code> - slow quasi-random drift<a class="headerlink" href="#FlutterGenerator---slow-quasi-random-drift" title="Link to this heading">#</a></h2>
<p>Flutter is an <span class="math notranslate nohighlight">\(f_o\)</span> effect introduced by Klatt and Klatt (1990) to simulate jitter in voice. This technique (a sum of slow unrelated sinusoids to produce drift) is also useful to perturb any synthesis parameter. The original formulation is an equal sum of 3 sinusoids with carefully picked frequencies, multiplied by a common gain (FL/100*fo/100). In pyLeTalker package, <code class="docutils literal notranslate"><span class="pre">FlutterGenerator</span></code> class is a generalized version, in which the number of sinusoids and frequencies can be modified, and
the frequencies can be selected randomly.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">gen1</span> <span class="o">=</span> <span class="n">lt</span><span class="o">.</span><span class="n">FlutterGenerator</span><span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>  <span class="c1"># default bias = 0.0</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">gen1</span><span class="p">(</span><span class="n">lt</span><span class="o">.</span><span class="n">fs</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[&lt;matplotlib.lines.Line2D at 0x7f9018f41580&gt;]
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/examples_functiongenerator_basics_23_1.png" src="../_images/examples_functiongenerator_basics_23_1.png" />
</div>
</div>
</section>
<section id="SineGenerator">
<h2><code class="docutils literal notranslate"><span class="pre">SineGenerator</span></code><a class="headerlink" href="#SineGenerator" title="Link to this heading">#</a></h2>
<p>This class is the key to define the kinematic vocal folds’ motion.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">gen</span> <span class="o">=</span> <span class="n">lt</span><span class="o">.</span><span class="n">SineGenerator</span><span class="p">(</span><span class="n">fo</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">A</span><span class="o">=</span><span class="mf">1.2</span><span class="p">,</span> <span class="n">phi0</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">gen</span><span class="p">(</span><span class="n">n</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;time (s)&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Text(0.5, 0, &#39;time (s)&#39;)
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/examples_functiongenerator_basics_25_1.png" src="../_images/examples_functiongenerator_basics_25_1.png" />
</div>
</div>
<p>Any function generator could be used for <code class="docutils literal notranslate"><span class="pre">A</span></code> parameter:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># time-varyinng amplitude</span>
<span class="n">Atv</span> <span class="o">=</span> <span class="n">lt</span><span class="o">.</span><span class="n">LineGenerator</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mf">0.8</span><span class="p">,</span> <span class="mf">1.2</span><span class="p">))</span>
<span class="n">gen</span> <span class="o">=</span> <span class="n">lt</span><span class="o">.</span><span class="n">SineGenerator</span><span class="p">(</span><span class="n">fo</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">A</span><span class="o">=</span><span class="n">Atv</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">gen</span><span class="p">(</span><span class="n">n</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;time (s)&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Text(0.5, 0, &#39;time (s)&#39;)
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/examples_functiongenerator_basics_27_1.png" src="../_images/examples_functiongenerator_basics_27_1.png" />
</div>
</div>
<p>… and <code class="docutils literal notranslate"><span class="pre">fo</span></code> parameter. The following example shows the spectrograms of the generated time-varying sinusoid overlayed with the time-varying fo parameter (in red).</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fo_objs</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;ConstantPitch&quot;</span><span class="p">:</span> <span class="n">lt</span><span class="o">.</span><span class="n">Constant</span><span class="p">(</span><span class="mi">100</span><span class="p">),</span>
    <span class="s2">&quot;LinearPitch&quot;</span><span class="p">:</span> <span class="n">lt</span><span class="o">.</span><span class="n">LineGenerator</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">50</span><span class="p">,</span> <span class="mi">150</span><span class="p">]),</span>
    <span class="s2">&quot;InterpolatedPitch&quot;</span><span class="p">:</span> <span class="n">lt</span><span class="o">.</span><span class="n">Interpolator</span><span class="p">(</span>
        <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">],</span> <span class="p">[</span><span class="mi">100</span><span class="p">,</span> <span class="mf">90.4</span><span class="p">,</span> <span class="mf">154.2</span><span class="p">,</span> <span class="mf">200.6</span><span class="p">,</span> <span class="mi">250</span><span class="p">]</span>
    <span class="p">),</span>
    <span class="s2">&quot;FlutteredPitch&quot;</span><span class="p">:</span> <span class="n">lt</span><span class="o">.</span><span class="n">FlutterGenerator</span><span class="p">(</span><span class="mi">100</span> <span class="o">/</span> <span class="mi">50</span> <span class="o">*</span> <span class="mi">100</span> <span class="o">/</span> <span class="mi">100</span> <span class="o">*</span> <span class="mi">3</span><span class="p">,</span> <span class="n">bias</span><span class="o">=</span><span class="mi">100</span><span class="p">),</span>
    <span class="s2">&quot;SinusoidalPitch&quot;</span><span class="p">:</span> <span class="n">lt</span><span class="o">.</span><span class="n">SineGenerator</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">bias</span><span class="o">=</span><span class="mi">100</span><span class="p">),</span>
<span class="p">}</span>


<span class="kn">from</span> <span class="nn">scipy.signal</span> <span class="kn">import</span> <span class="n">ShortTimeFFT</span><span class="p">,</span> <span class="n">get_window</span>
<span class="kn">from</span> <span class="nn">scipy.fft</span> <span class="kn">import</span> <span class="n">next_fast_len</span>
<span class="kn">from</span> <span class="nn">scipy.signal.windows</span> <span class="kn">import</span> <span class="n">gaussian</span>

<span class="n">g_std</span> <span class="o">=</span> <span class="mi">8</span>  <span class="c1"># standard deviation for Gaussian window in samples</span>

<span class="n">N</span> <span class="o">=</span> <span class="n">lt</span><span class="o">.</span><span class="n">fs</span> <span class="o">//</span> <span class="mi">10</span>
<span class="n">w</span> <span class="o">=</span> <span class="n">gaussian</span><span class="p">(</span><span class="n">N</span><span class="p">,</span> <span class="n">std</span><span class="o">=</span><span class="n">g_std</span><span class="p">,</span> <span class="n">sym</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># symmetric Gaussian window</span>
<span class="n">w</span> <span class="o">=</span> <span class="n">get_window</span><span class="p">(</span><span class="s2">&quot;hann&quot;</span><span class="p">,</span> <span class="n">N</span><span class="p">)</span>
<span class="n">SFT</span> <span class="o">=</span> <span class="n">ShortTimeFFT</span><span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">hop</span><span class="o">=</span><span class="nb">round</span><span class="p">(</span><span class="n">N</span> <span class="o">*</span> <span class="mf">0.01</span><span class="p">),</span> <span class="n">fs</span><span class="o">=</span><span class="n">lt</span><span class="o">.</span><span class="n">fs</span><span class="p">,</span> <span class="n">mfft</span><span class="o">=</span><span class="n">next_fast_len</span><span class="p">(</span><span class="n">N</span><span class="p">),</span> <span class="n">scale_to</span><span class="o">=</span><span class="s2">&quot;psd&quot;</span><span class="p">)</span>


<span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">fo_objs</span><span class="p">),</span> <span class="mi">1</span><span class="p">,</span> <span class="n">sharex</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">sharey</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">[</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">])</span>
<span class="k">for</span> <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">fo</span><span class="p">),</span> <span class="n">ax</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">fo_objs</span><span class="o">.</span><span class="n">items</span><span class="p">(),</span> <span class="n">axes</span><span class="p">):</span>
    <span class="n">gen</span> <span class="o">=</span> <span class="n">lt</span><span class="o">.</span><span class="n">SineGenerator</span><span class="p">(</span><span class="n">fo</span><span class="o">=</span><span class="n">fo</span><span class="p">)</span>
    <span class="n">t</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">ts</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
    <span class="n">fo_vals</span> <span class="o">=</span> <span class="n">fo</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">force_time_axis</span><span class="o">=</span><span class="s1">&#39;tile_data&#39;</span><span class="p">)</span>
    <span class="n">Sx</span> <span class="o">=</span> <span class="n">SFT</span><span class="o">.</span><span class="n">stft</span><span class="p">(</span><span class="n">gen</span><span class="p">(</span><span class="n">n</span><span class="p">))</span>  <span class="c1"># perform the STFT</span>
    <span class="n">im1</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span>
        <span class="nb">abs</span><span class="p">(</span><span class="n">Sx</span><span class="p">),</span> <span class="n">origin</span><span class="o">=</span><span class="s2">&quot;lower&quot;</span><span class="p">,</span> <span class="n">aspect</span><span class="o">=</span><span class="s2">&quot;auto&quot;</span><span class="p">,</span> <span class="n">extent</span><span class="o">=</span><span class="n">SFT</span><span class="o">.</span><span class="n">extent</span><span class="p">(</span><span class="n">n</span><span class="p">),</span> <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;Blues&quot;</span>
    <span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">fo_vals</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;(Hz)&quot;</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">250</span><span class="p">])</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="n">t</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]])</span>
<span class="n">axes</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;time (s)&quot;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/examples_functiongenerator_basics_29_0.png" src="../_images/examples_functiongenerator_basics_29_0.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># gen = lt.SineGenerator(fo=[10,11], A=1.2, phi0=np.pi / 2)</span>
<span class="n">gen</span> <span class="o">=</span> <span class="n">lt</span><span class="o">.</span><span class="n">SineGenerator</span><span class="p">(</span><span class="n">fo</span><span class="o">=</span><span class="p">[</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">],</span> <span class="n">A</span><span class="o">=</span><span class="mf">1.2</span><span class="p">,</span> <span class="n">phi0</span><span class="o">=</span><span class="s1">&#39;random&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">gen</span><span class="p">(</span><span class="n">n</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;time (s)&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Text(0.5, 0, &#39;time (s)&#39;)
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/examples_functiongenerator_basics_30_1.png" src="../_images/examples_functiongenerator_basics_30_1.png" />
</div>
</div>
</section>
<section id="ModulatedSineGenerator">
<h2><code class="docutils literal notranslate"><span class="pre">ModulatedSineGenerator</span></code><a class="headerlink" href="#ModulatedSineGenerator" title="Link to this heading">#</a></h2>
<p>To simulate amplitude and frequency modulated vocal fold vibration using the kinematic model, <code class="docutils literal notranslate"><span class="pre">ModulatedSineGenerator</span></code> could be used to generate the reference motion.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fo</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">modulation_frequency</span> <span class="o">=</span> <span class="mf">0.5</span>  <span class="c1"># relative to fo</span>
<span class="n">am_extent</span> <span class="o">=</span> <span class="mf">0.1</span>  <span class="c1"># amount of amplitude modulation</span>
<span class="n">fm_extent</span> <span class="o">=</span> <span class="mf">0.1</span>  <span class="c1"># amount of frequency modulation</span>
<span class="n">gen</span> <span class="o">=</span> <span class="n">lt</span><span class="o">.</span><span class="n">ModulatedSineGenerator</span><span class="p">(</span><span class="n">fo</span><span class="p">,</span> <span class="n">modulation_frequency</span><span class="p">,</span> <span class="n">am_extent</span><span class="p">,</span> <span class="n">fm_extent</span><span class="p">)</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">gen</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">[</span><span class="mi">12</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;time (s)&quot;</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">])</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">magnitude_spectrum</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">Fs</span><span class="o">=</span><span class="n">gen</span><span class="o">.</span><span class="n">fs</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="s2">&quot;dB&quot;</span><span class="p">,</span> <span class="n">window</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">hamming</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">t</span><span class="p">)))</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="nb">min</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="n">lt</span><span class="o">.</span><span class="n">fs</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)])</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(0.0, 1000.0)
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/examples_functiongenerator_basics_32_1.png" src="../_images/examples_functiongenerator_basics_32_1.png" />
</div>
</div>
</section>
<section id="WhiteNoiseGenerator-&amp;-ColoredNoiseGenerator">
<h2><code class="docutils literal notranslate"><span class="pre">WhiteNoiseGenerator</span></code> &amp; <code class="docutils literal notranslate"><span class="pre">ColoredNoiseGenerator</span></code><a class="headerlink" href="#WhiteNoiseGenerator-&-ColoredNoiseGenerator" title="Link to this heading">#</a></h2>
<p>To simulate turbulent/aspiration/ambient noise, these generators produce random noise samples with a specified power level.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">scipy.signal</span> <span class="kn">import</span> <span class="n">welch</span>

<span class="n">lt</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">set_sampling_rate</span><span class="p">(</span><span class="mi">10000</span><span class="p">)</span>

<span class="n">pi</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span>

<span class="n">b</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.25</span><span class="p">]</span>
<span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.75</span><span class="p">]</span>

<span class="n">psd_level</span><span class="o">=</span><span class="mf">0.1</span>

<span class="n">gen0</span> <span class="o">=</span> <span class="n">lt</span><span class="o">.</span><span class="n">WhiteNoiseGenerator</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
<span class="c1"># gen1 = ColoredNoiseGenerator(</span>
<span class="c1">#     LeTalkerAspirationNoise.cb, LeTalkerAspirationNoise.ca, psd_level=psd_level</span>
<span class="c1"># )</span>
<span class="n">gen1</span> <span class="o">=</span> <span class="n">lt</span><span class="o">.</span><span class="n">ColoredNoiseGenerator</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="p">(</span><span class="mi">300</span><span class="p">,</span> <span class="mi">3000</span><span class="p">),</span> <span class="s2">&quot;bandpass&quot;</span><span class="p">,</span> <span class="n">psd_level</span><span class="o">=</span><span class="n">psd_level</span><span class="p">)</span>
<span class="n">fs</span> <span class="o">=</span> <span class="n">n</span> <span class="o">=</span> <span class="n">gen0</span><span class="o">.</span><span class="n">fs</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">gen0</span><span class="o">.</span><span class="n">ts</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">gen0</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">gen1</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">var</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>

<span class="n">n</span> <span class="o">=</span> <span class="n">fs</span> <span class="o">//</span> <span class="mi">100</span>
<span class="n">f</span><span class="p">,</span> <span class="n">Pxx</span> <span class="o">=</span> <span class="n">welch</span><span class="p">(</span>
    <span class="n">x</span><span class="p">,</span> <span class="n">fs</span><span class="p">,</span> <span class="s2">&quot;hann&quot;</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">n</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="n">nfft</span><span class="o">=</span><span class="mi">1024</span> <span class="o">*</span> <span class="mi">16</span><span class="p">,</span> <span class="n">scaling</span><span class="o">=</span><span class="s2">&quot;density&quot;</span><span class="p">,</span> <span class="n">detrend</span><span class="o">=</span><span class="kc">False</span>
<span class="p">)</span>
<span class="n">f</span><span class="p">,</span> <span class="n">Pyy</span> <span class="o">=</span> <span class="n">welch</span><span class="p">(</span>
    <span class="n">y</span><span class="p">,</span> <span class="n">fs</span><span class="p">,</span> <span class="s2">&quot;hann&quot;</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">n</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="n">nfft</span><span class="o">=</span><span class="mi">1024</span> <span class="o">*</span> <span class="mi">16</span><span class="p">,</span> <span class="n">scaling</span><span class="o">=</span><span class="s2">&quot;density&quot;</span><span class="p">,</span> <span class="n">detrend</span><span class="o">=</span><span class="kc">False</span>
<span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">[</span><span class="mi">12</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>

<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;time (s)&quot;</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">])</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">Pxx</span> <span class="o">*</span> <span class="n">fs</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;White&#39;</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">Pyy</span> <span class="o">*</span> <span class="n">fs</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;colored&#39;</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">axhline</span><span class="p">(</span><span class="n">psd_level</span><span class="p">,</span><span class="n">ls</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span><span class="n">c</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;psd_level&#39;</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="nb">min</span><span class="p">(</span><span class="n">fs</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">10000</span><span class="p">)])</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;frequency (Hz)&quot;</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">legend</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
0.09995925487893695
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/examples_functiongenerator_basics_34_1.png" src="../_images/examples_functiongenerator_basics_34_1.png" />
</div>
</div>
</section>
</section>


                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="elements.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Python classes to model various <code class="docutils literal notranslate"><span class="pre">Element</span></code>s of Voice Production Mechanism</p>
      </div>
    </a>
    <a class="right-next"
       href="functiongenerator_step_mixin.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><code class="docutils literal notranslate"><span class="pre">TaperMixin</span></code> - Controlling onset and offset of functions</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#Common-attributes-of-abc.SampleGenerator-subclasses">Common attributes of <code class="docutils literal notranslate"><span class="pre">abc.SampleGenerator</span></code> subclasses</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#Constant"><code class="docutils literal notranslate"><span class="pre">Constant</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#StepGenerator---hold-specific-values-in-a-sequential-order"><code class="docutils literal notranslate"><span class="pre">StepGenerator</span></code> - hold specific values in a sequential order</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#LineGenerator"><code class="docutils literal notranslate"><span class="pre">LineGenerator</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#Interpolators:-Interpolator,-ClampedInterpolator,-&amp;-PeriodicInterpolator">Interpolators: <code class="docutils literal notranslate"><span class="pre">Interpolator</span></code>, <code class="docutils literal notranslate"><span class="pre">ClampedInterpolator</span></code>, &amp; <code class="docutils literal notranslate"><span class="pre">PeriodicInterpolator</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#FlutterGenerator---slow-quasi-random-drift"><code class="docutils literal notranslate"><span class="pre">FlutterGenerator</span></code> - slow quasi-random drift</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#SineGenerator"><code class="docutils literal notranslate"><span class="pre">SineGenerator</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ModulatedSineGenerator"><code class="docutils literal notranslate"><span class="pre">ModulatedSineGenerator</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#WhiteNoiseGenerator-&amp;-ColoredNoiseGenerator"><code class="docutils literal notranslate"><span class="pre">WhiteNoiseGenerator</span></code> &amp; <code class="docutils literal notranslate"><span class="pre">ColoredNoiseGenerator</span></code></a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Takeshi (Kesh) Ikuma
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2025, Takeshi Ikuma, Louisiana State University Health Sciences Center.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>